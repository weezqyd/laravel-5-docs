

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HTTP Requests &mdash; Laravel 5 Documentation 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Laravel 5 Documentation 1.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Laravel 5 Documentation
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <!-- Local TOC -->
                <div class="local-toc"><ul>
<li><a class="reference internal" href="#">HTTP Requests</a><ul>
<li><a class="reference internal" href="#accessing-the-request">Accessing The Request</a><ul>
<li><a class="reference internal" href="#basic-request-information">Basic Request Information</a><ul>
<li><a class="reference internal" href="#retrieving-the-request-uri">Retrieving The Request URI</a></li>
<li><a class="reference internal" href="#retrieving-the-request-method">Retrieving The Request Method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#psr-7-requests">PSR-7 Requests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#retrieving-input">Retrieving Input</a><ul>
<li><a class="reference internal" href="#retrieving-an-input-value">Retrieving An Input Value</a></li>
<li><a class="reference internal" href="#determining-if-an-input-value-is-present">Determining If An Input Value Is Present</a></li>
<li><a class="reference internal" href="#retrieving-all-input-data">Retrieving All Input Data</a></li>
<li><a class="reference internal" href="#retrieving-a-portion-of-the-input-data">Retrieving A Portion Of The Input Data</a></li>
<li><a class="reference internal" href="#old-input">Old Input</a><ul>
<li><a class="reference internal" href="#flashing-input-to-the-session">Flashing Input To The Session</a></li>
<li><a class="reference internal" href="#flash-input-into-session-then-redirect">Flash Input Into Session Then Redirect</a></li>
<li><a class="reference internal" href="#retrieving-old-data">Retrieving Old Data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cookies">Cookies</a><ul>
<li><a class="reference internal" href="#retrieving-cookies-from-the-request">Retrieving Cookies From The Request</a></li>
<li><a class="reference internal" href="#attaching-a-new-cookie-to-a-response">Attaching A New Cookie To A Response</a></li>
</ul>
</li>
<li><a class="reference internal" href="#files">Files</a><ul>
<li><a class="reference internal" href="#retrieving-uploaded-files">Retrieving Uploaded Files</a></li>
<li><a class="reference internal" href="#verifying-file-presence">Verifying File Presence</a></li>
<li><a class="reference internal" href="#validating-successful-uploads">Validating Successful Uploads</a></li>
<li><a class="reference internal" href="#moving-uploaded-files">Moving Uploaded Files</a></li>
<li><a class="reference internal" href="#other-file-methods">Other File Methods</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Laravel 5 Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>HTTP Requests</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/requests.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="http-requests">
<span id="http-requests"></span><h1>HTTP Requests<a class="headerlink" href="#http-requests" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference external" href="#accessing-the-request">Accessing The Request</a><ul>
<li><a class="reference external" href="#basic-request-information">Basic Request Information</a></li>
<li><a class="reference external" href="#psr7-requests">PSR-7 Requests</a></li>
</ul>
</li>
<li><a class="reference external" href="#retrieving-input">Retrieving Input</a><ul>
<li><a class="reference external" href="#old-input">Old Input</a></li>
<li><a class="reference external" href="#cookies">Cookies</a></li>
<li><a class="reference external" href="#files">Files</a></li>
</ul>
</li>
</ul>
<p><a name="accessing-the-request"></a></p>
<div class="section" id="accessing-the-request">
<span id="accessing-the-request"></span><h2>Accessing The Request<a class="headerlink" href="#accessing-the-request" title="Permalink to this headline">¶</a></h2>
<p>To obtain an instance of the current HTTP request via dependency injection, you should type-hint the <code class="docutils literal"><span class="pre">Illuminate\Http\Request</span></code> class on your controller constructor or method. The current request instance will automatically be injected by the <a class="reference external" href="/docs/{{version}}/container">service container</a>:</p>
<pre class="literal-block">
&lt;?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\Routing\Controller;

class UserController extends Controller
{
    /**
     * Store a new user.
     *
     * &#64;param  Request  $request
     * &#64;return Response
     */
    public function store(Request $request)
    {
        $name = $request-&gt;input('name');

        //
    }
}
</pre>
<p>If your controller method is also expecting input from a route parameter, simply list your route arguments after your other dependencies. For example, if your route is defined like so:</p>
<pre class="literal-block">
Route::put('user/{id}', 'UserController&#64;update');
</pre>
<p>You may still type-hint the <code class="docutils literal"><span class="pre">Illuminate\Http\Request</span></code> and access your route parameter <code class="docutils literal"><span class="pre">id</span></code> by defining your controller method like the following:</p>
<pre class="literal-block">
&lt;?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\Routing\Controller;

class UserController extends Controller
{
    /**
     * Update the specified user.
     *
     * &#64;param  Request  $request
     * &#64;param  int  $id
     * &#64;return Response
     */
    public function update(Request $request, $id)
    {
        //
    }
}
</pre>
<p><a name="basic-request-information"></a></p>
<div class="section" id="basic-request-information">
<span id="basic-request-information"></span><h3>Basic Request Information<a class="headerlink" href="#basic-request-information" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">Illuminate\Http\Request</span></code> instance provides a variety of methods for examining the HTTP request for your application. The Laravel <code class="docutils literal"><span class="pre">Illuminate\Http\Request</span></code> extends the <code class="docutils literal"><span class="pre">Symfony\Component\HttpFoundation\Request</span></code> class. Here are a few more of the useful methods available on this class:</p>
<div class="section" id="retrieving-the-request-uri">
<span id="retrieving-the-request-uri"></span><h4>Retrieving The Request URI<a class="headerlink" href="#retrieving-the-request-uri" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">path</span></code> method returns the request&#8217;s URI. So, if the incoming request is targeted at <code class="docutils literal"><span class="pre">http://domain.com/foo/bar</span></code>, the <code class="docutils literal"><span class="pre">path</span></code> method will return <code class="docutils literal"><span class="pre">foo/bar</span></code>:</p>
<pre class="literal-block">
$uri = $request-&gt;path();
</pre>
<p>The <code class="docutils literal"><span class="pre">is</span></code> method allows you to verify that the incoming request URI matches a given pattern. You may use the <code class="docutils literal"><span class="pre">*</span></code> character as a wildcard when utilizing this method:</p>
<pre class="literal-block">
if ($request-&gt;is('admin/*')) {
    //
}
</pre>
<p>To get the full URL, not just the path info, you may use the <code class="docutils literal"><span class="pre">url</span></code> method on the request instance:</p>
<pre class="literal-block">
$url = $request-&gt;url();
</pre>
</div>
<div class="section" id="retrieving-the-request-method">
<span id="retrieving-the-request-method"></span><h4>Retrieving The Request Method<a class="headerlink" href="#retrieving-the-request-method" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">method</span></code> method will return the HTTP verb for the request. You may also use the <code class="docutils literal"><span class="pre">isMethod</span></code> method to verify that the HTTP verb matches a given string:</p>
<pre class="literal-block">
$method = $request-&gt;method();

if ($request-&gt;isMethod('post')) {
    //
}
</pre>
<p><a name="psr7-requests"></a></p>
</div>
</div>
<div class="section" id="psr-7-requests">
<span id="psr-7-requests"></span><h3>PSR-7 Requests<a class="headerlink" href="#psr-7-requests" title="Permalink to this headline">¶</a></h3>
<p>The PSR-7 standard specifies interfaces for HTTP messages, including requests and responses. If you would like to obtain an instance of a PSR-7 request, you will first need to install a few libraries. Laravel uses the Symfony HTTP Message Bridge component to convert typical Laravel requests and responses into PSR-7 compatible implementations:</p>
<pre class="literal-block">
composer require symfony/psr-http-message-bridge

composer require zendframework/zend-diactoros
</pre>
<p>Once you have installed these libraries, you may obtain a PSR-7 request by simply type-hinting the request type on your route or controller:</p>
<pre class="literal-block">
use Psr\Http\Message\ServerRequestInterface;

Route::get('/', function (ServerRequestInterface $request) {
    //
});
</pre>
<p>If you return a PSR-7 response instance from a route or controller, it will automatically be converted back to a Laravel response instance and be displayed by the framework.</p>
<p><a name="retrieving-input"></a></p>
</div>
</div>
<div class="section" id="retrieving-input">
<span id="retrieving-input"></span><h2>Retrieving Input<a class="headerlink" href="#retrieving-input" title="Permalink to this headline">¶</a></h2>
<div class="section" id="retrieving-an-input-value">
<span id="retrieving-an-input-value"></span><h3>Retrieving An Input Value<a class="headerlink" href="#retrieving-an-input-value" title="Permalink to this headline">¶</a></h3>
<p>Using a few simple methods, you may access all user input from your <code class="docutils literal"><span class="pre">Illuminate\Http\Request</span></code> instance. You do not need to worry about the HTTP verb used for the request, as input is accessed in the same way for all verbs.</p>
<pre class="literal-block">
$name = $request-&gt;input('name');
</pre>
<p>You may pass a default value as the second argument to the <code class="docutils literal"><span class="pre">input</span></code> method. This value will be returned if the requested input value is not present on the request:</p>
<pre class="literal-block">
$name = $request-&gt;input('name', 'Sally');
</pre>
<p>When working on forms with array inputs, you may use &#8220;dot&#8221; notation to access the arrays:</p>
<pre class="literal-block">
$input = $request-&gt;input('products.0.name');
</pre>
</div>
<div class="section" id="determining-if-an-input-value-is-present">
<span id="determining-if-an-input-value-is-present"></span><h3>Determining If An Input Value Is Present<a class="headerlink" href="#determining-if-an-input-value-is-present" title="Permalink to this headline">¶</a></h3>
<p>To determine if a value is present on the request, you may use the <code class="docutils literal"><span class="pre">has</span></code> method. The <code class="docutils literal"><span class="pre">has</span></code> method returns <code class="docutils literal"><span class="pre">true</span></code> if the value is present <strong>and</strong> is not an empty string:</p>
<pre class="literal-block">
if ($request-&gt;has('name')) {
    //
}
</pre>
</div>
<div class="section" id="retrieving-all-input-data">
<span id="retrieving-all-input-data"></span><h3>Retrieving All Input Data<a class="headerlink" href="#retrieving-all-input-data" title="Permalink to this headline">¶</a></h3>
<p>You may also retrieve all of the input data as an <code class="docutils literal"><span class="pre">array</span></code> using the <code class="docutils literal"><span class="pre">all</span></code> method:</p>
<pre class="literal-block">
$input = $request-&gt;all();
</pre>
</div>
<div class="section" id="retrieving-a-portion-of-the-input-data">
<span id="retrieving-a-portion-of-the-input-data"></span><h3>Retrieving A Portion Of The Input Data<a class="headerlink" href="#retrieving-a-portion-of-the-input-data" title="Permalink to this headline">¶</a></h3>
<p>If you need to retrieve a sub-set of the input data, you may use the <code class="docutils literal"><span class="pre">only</span></code> and <code class="docutils literal"><span class="pre">except</span></code> methods. Both of these methods accept a single <code class="docutils literal"><span class="pre">array</span></code> as their only argument:</p>
<pre class="literal-block">
$input = $request-&gt;only('username', 'password');

$input = $request-&gt;except('credit_card');
</pre>
<p><a name="old-input"></a></p>
</div>
<div class="section" id="old-input">
<span id="old-input"></span><h3>Old Input<a class="headerlink" href="#old-input" title="Permalink to this headline">¶</a></h3>
<p>Laravel allows you to keep input from one request during the next request. This feature is particularly useful for re-populating forms after detecting validation errors. However, if you are using Laravel&#8217;s included <a class="reference external" href="/docs/{{version}}/validation">validation services</a>, it is unlikely you will need to manually use these methods, as some of Laravel&#8217;s built-in validation facilities will call them automatically.</p>
<div class="section" id="flashing-input-to-the-session">
<span id="flashing-input-to-the-session"></span><h4>Flashing Input To The Session<a class="headerlink" href="#flashing-input-to-the-session" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">flash</span></code> method on the <code class="docutils literal"><span class="pre">Illuminate\Http\Request</span></code> instance will flash the current input to the <a class="reference external" href="/docs/{{version}}/session">session</a> so that it is available during the user&#8217;s next request to the application:</p>
<pre class="literal-block">
$request-&gt;flash();
</pre>
<p>You may also use the <code class="docutils literal"><span class="pre">flashOnly</span></code> and <code class="docutils literal"><span class="pre">flashExcept</span></code> methods to flash a sub-set of the request data into the session:</p>
<pre class="literal-block">
$request-&gt;flashOnly('username', 'email');

$request-&gt;flashExcept('password');
</pre>
</div>
<div class="section" id="flash-input-into-session-then-redirect">
<span id="flash-input-into-session-then-redirect"></span><h4>Flash Input Into Session Then Redirect<a class="headerlink" href="#flash-input-into-session-then-redirect" title="Permalink to this headline">¶</a></h4>
<p>Since you often will want to flash input in association with a redirect to the previous page, you may easily chain input flashing onto a redirect using the <code class="docutils literal"><span class="pre">withInput</span></code> method:</p>
<pre class="literal-block">
return redirect('form')-&gt;withInput();

return redirect('form')-&gt;withInput($request-&gt;except('password'));
</pre>
</div>
<div class="section" id="retrieving-old-data">
<span id="retrieving-old-data"></span><h4>Retrieving Old Data<a class="headerlink" href="#retrieving-old-data" title="Permalink to this headline">¶</a></h4>
<p>To retrieve flashed input from the previous request, use the <code class="docutils literal"><span class="pre">old</span></code> method on the <code class="docutils literal"><span class="pre">Request</span></code> instance. The <code class="docutils literal"><span class="pre">old</span></code> method provides a convenient helper for pulling the flashed input data out of the <a class="reference external" href="/docs/{{version}}/session">session</a>:</p>
<pre class="literal-block">
$username = $request-&gt;old('username');
</pre>
<p>Laravel also provides a global <code class="docutils literal"><span class="pre">old</span></code> helper function. If you are displaying old input within a <a class="reference external" href="/docs/{{version}}/blade">Blade template</a>, it is more convenient to use the <code class="docutils literal"><span class="pre">old</span></code> helper:</p>
<pre class="literal-block">
{{ old('username') }}
</pre>
<p><a name="cookies"></a></p>
</div>
</div>
<div class="section" id="cookies">
<span id="cookies"></span><h3>Cookies<a class="headerlink" href="#cookies" title="Permalink to this headline">¶</a></h3>
<div class="section" id="retrieving-cookies-from-the-request">
<span id="retrieving-cookies-from-the-request"></span><h4>Retrieving Cookies From The Request<a class="headerlink" href="#retrieving-cookies-from-the-request" title="Permalink to this headline">¶</a></h4>
<p>All cookies created by the Laravel framework are encrypted and signed with an authentication code, meaning they will be considered invalid if they have been changed by the client. To retrieve a cookie value from the request, you may use the <code class="docutils literal"><span class="pre">cookie</span></code> method on the <code class="docutils literal"><span class="pre">Illuminate\Http\Request</span></code> instance:</p>
<pre class="literal-block">
$value = $request-&gt;cookie('name');
</pre>
</div>
<div class="section" id="attaching-a-new-cookie-to-a-response">
<span id="attaching-a-new-cookie-to-a-response"></span><h4>Attaching A New Cookie To A Response<a class="headerlink" href="#attaching-a-new-cookie-to-a-response" title="Permalink to this headline">¶</a></h4>
<p>Laravel provides a global <code class="docutils literal"><span class="pre">cookie</span></code> helper function which serves as a simple factory for generating new <code class="docutils literal"><span class="pre">Symfony\Component\HttpFoundation\Cookie</span></code> instances. The cookies may be attached to a <code class="docutils literal"><span class="pre">Illuminate\Http\Response</span></code> instance using the <code class="docutils literal"><span class="pre">withCookie</span></code> method:</p>
<pre class="literal-block">
$response = new Illuminate\Http\Response('Hello World');

$response-&gt;withCookie(cookie('name', 'value', $minutes));

return $response;
</pre>
<p>To create a long-lived cookie, which lasts for five years, you may use the <code class="docutils literal"><span class="pre">forever</span></code> method on the cookie factory by first calling the <code class="docutils literal"><span class="pre">cookie</span></code> helper with no arguments, and then chaining the <code class="docutils literal"><span class="pre">forever</span></code> method onto the returned cookie factory:</p>
<pre class="literal-block">
$response-&gt;withCookie(cookie()-&gt;forever('name', 'value'));
</pre>
<p><a name="files"></a></p>
</div>
</div>
<div class="section" id="files">
<span id="files"></span><h3>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h3>
<div class="section" id="retrieving-uploaded-files">
<span id="retrieving-uploaded-files"></span><h4>Retrieving Uploaded Files<a class="headerlink" href="#retrieving-uploaded-files" title="Permalink to this headline">¶</a></h4>
<p>You may access uploaded files that are included with the <code class="docutils literal"><span class="pre">Illuminate\Http\Request</span></code> instance using the <code class="docutils literal"><span class="pre">file</span></code> method. The object returned by the <code class="docutils literal"><span class="pre">file</span></code> method is an instance of the <code class="docutils literal"><span class="pre">Symfony\Component\HttpFoundation\File\UploadedFile</span></code> class, which extends the PHP <code class="docutils literal"><span class="pre">SplFileInfo</span></code> class and provides a variety of methods for interacting with the file:</p>
<pre class="literal-block">
$file = $request-&gt;file('photo');
</pre>
</div>
<div class="section" id="verifying-file-presence">
<span id="verifying-file-presence"></span><h4>Verifying File Presence<a class="headerlink" href="#verifying-file-presence" title="Permalink to this headline">¶</a></h4>
<p>You may also determine if a file is present on the request using the <code class="docutils literal"><span class="pre">hasFile</span></code> method:</p>
<pre class="literal-block">
if ($request-&gt;hasFile('photo')) {
    //
}
</pre>
</div>
<div class="section" id="validating-successful-uploads">
<span id="validating-successful-uploads"></span><h4>Validating Successful Uploads<a class="headerlink" href="#validating-successful-uploads" title="Permalink to this headline">¶</a></h4>
<p>In addition to checking if the file is present, you may verify that there were no problems uploading the file via the <code class="docutils literal"><span class="pre">isValid</span></code> method:</p>
<pre class="literal-block">
if ($request-&gt;file('photo')-&gt;isValid())
{
    //
}
</pre>
</div>
<div class="section" id="moving-uploaded-files">
<span id="moving-uploaded-files"></span><h4>Moving Uploaded Files<a class="headerlink" href="#moving-uploaded-files" title="Permalink to this headline">¶</a></h4>
<p>To move the uploaded file to a new location, you should use the <code class="docutils literal"><span class="pre">move</span></code> method. This method will move the file from its temporary upload location (as determined by your PHP configuration) to a more permanent destination of your choosing:</p>
<pre class="literal-block">
$request-&gt;file('photo')-&gt;move($destinationPath);

$request-&gt;file('photo')-&gt;move($destinationPath, $fileName);
</pre>
</div>
<div class="section" id="other-file-methods">
<span id="other-file-methods"></span><h4>Other File Methods<a class="headerlink" href="#other-file-methods" title="Permalink to this headline">¶</a></h4>
<p>There are a variety of other methods available on <code class="docutils literal"><span class="pre">UploadedFile</span></code> instances. Check out the <a class="reference external" href="http://api.symfony.com/2.7/Symfony/Component/HttpFoundation/File/UploadedFile.html">API documentation for the class</a> for more information regarding these methods.</p>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, The Weezqyd.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>