

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HTTP Responses &mdash; Laravel 5 Documentation 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Laravel 5 Documentation 1.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Laravel 5 Documentation
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <!-- Local TOC -->
                <div class="local-toc"><ul>
<li><a class="reference internal" href="#">HTTP Responses</a><ul>
<li><a class="reference internal" href="#basic-responses">Basic Responses</a><ul>
<li><a class="reference internal" href="#attaching-headers-to-responses">Attaching Headers To Responses</a></li>
<li><a class="reference internal" href="#attaching-cookies-to-responses">Attaching Cookies To Responses</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-response-types">Other Response Types</a><ul>
<li><a class="reference internal" href="#view-responses">View Responses</a></li>
<li><a class="reference internal" href="#json-responses">JSON Responses</a></li>
<li><a class="reference internal" href="#file-downloads">File Downloads</a></li>
</ul>
</li>
<li><a class="reference internal" href="#redirects">Redirects</a><ul>
<li><a class="reference internal" href="#redirecting-to-named-routes">Redirecting To Named Routes</a></li>
<li><a class="reference internal" href="#redirecting-to-controller-actions">Redirecting To Controller Actions</a></li>
<li><a class="reference internal" href="#redirecting-with-flashed-session-data">Redirecting With Flashed Session Data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#response-macros">Response Macros</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Laravel 5 Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>HTTP Responses</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/responses.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="http-responses">
<span id="http-responses"></span><h1>HTTP Responses<a class="headerlink" href="#http-responses" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference external" href="#basic-responses">Basic Responses</a><ul>
<li><a class="reference external" href="#attaching-headers-to-responses">Attaching Headers To Responses</a></li>
<li><a class="reference external" href="#attaching-cookies-to-responses">Attaching Cookies To Responses</a></li>
</ul>
</li>
<li><a class="reference external" href="#other-response-types">Other Response Types</a><ul>
<li><a class="reference external" href="#view-responses">View Responses</a></li>
<li><a class="reference external" href="#json-responses">JSON Responses</a></li>
<li><a class="reference external" href="#file-downloads">File Downloads</a></li>
</ul>
</li>
<li><a class="reference external" href="#redirects">Redirects</a><ul>
<li><a class="reference external" href="#redirecting-named-routes">Redirecting To Named Routes</a></li>
<li><a class="reference external" href="#redirecting-controller-actions">Redirecting To Controller Actions</a></li>
<li><a class="reference external" href="#redirecting-with-flashed-session-data">Redirecting With Flashed Session Data</a></li>
</ul>
</li>
<li><a class="reference external" href="#response-macros">Response Macros</a></li>
</ul>
<p><a name="basic-responses"></a></p>
<div class="section" id="basic-responses">
<span id="basic-responses"></span><h2>Basic Responses<a class="headerlink" href="#basic-responses" title="Permalink to this headline">¶</a></h2>
<p>Of course, all routes and controllers should return some kind of response to be sent back to the user&#8217;s browser. Laravel provides several different ways to return responses. The most basic response is simply returning a string from a route or controller:</p>
<pre class="literal-block">
Route::get('/', function () {
    return 'Hello World';
});
</pre>
<p>The given string will automatically be converted into an HTTP response by the framework.</p>
<p>However, for most routes and controller actions, you will be returning a full <code class="docutils literal"><span class="pre">Illuminate\Http\Response</span></code> instance or a <a class="reference external" href="/docs/{{version}}/views">view</a>. Returning a full <code class="docutils literal"><span class="pre">Response</span></code> instance allows you to customize the response&#8217;s HTTP status code and headers. A <code class="docutils literal"><span class="pre">Response</span></code> instance inherits from the <code class="docutils literal"><span class="pre">Symfony\Component\HttpFoundation\Response</span></code> class, providing a variety of methods for building HTTP responses:</p>
<pre class="literal-block">
use Illuminate\Http\Response;

Route::get('home', function () {
    return (new Response($content, $status))
                  -&gt;header('Content-Type', $value);
});
</pre>
<p>For convenience, you may also use the <code class="docutils literal"><span class="pre">response</span></code> helper:</p>
<pre class="literal-block">
Route::get('home', function () {
    return response($content, $status)
                  -&gt;header('Content-Type', $value);
});
</pre>
<blockquote>
<div><strong>Note:</strong> For a full list of available <code class="docutils literal"><span class="pre">Response</span></code> methods, check out its <a class="reference external" href="http://laravel.com/api/master/Illuminate/Http/Response.html">API documentation</a> and the <a class="reference external" href="http://api.symfony.com/2.7/Symfony/Component/HttpFoundation/Response.html">Symfony API documentation</a>.</div></blockquote>
<p><a name="attaching-headers-to-responses"></a></p>
<div class="section" id="attaching-headers-to-responses">
<span id="attaching-headers-to-responses"></span><h3>Attaching Headers To Responses<a class="headerlink" href="#attaching-headers-to-responses" title="Permalink to this headline">¶</a></h3>
<p>Keep in mind that most response methods are chainable, allowing for the fluent building of responses. For example, you may use the <code class="docutils literal"><span class="pre">header</span></code> method to add a series of headers to the response before sending it back to the user:</p>
<pre class="literal-block">
return response($content)
            -&gt;header('Content-Type', $type)
            -&gt;header('X-Header-One', 'Header Value')
            -&gt;header('X-Header-Two', 'Header Value');
</pre>
<p><a name="attaching-cookies-to-responses"></a></p>
</div>
<div class="section" id="attaching-cookies-to-responses">
<span id="attaching-cookies-to-responses"></span><h3>Attaching Cookies To Responses<a class="headerlink" href="#attaching-cookies-to-responses" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">withCookie</span></code> helper method on the response instance allows you to easily attach cookies to the response. For example, you may use the <code class="docutils literal"><span class="pre">withCookie</span></code> method to generate a cookie and attach it to the response instance:</p>
<pre class="literal-block">
return response($content)-&gt;header('Content-Type', $type)
                 -&gt;withCookie('name', 'value');
</pre>
<p>The <code class="docutils literal"><span class="pre">withCookie</span></code> method accepts additional optional arguments which allow you to further customize your cookie&#8217;s properties:</p>
<pre class="literal-block">
-&gt;withCookie($name, $value, $minutes, $path, $domain, $secure, $httpOnly)
</pre>
<p>By default, all cookies generated by Laravel are encrypted and signed so that they can&#8217;t be modified or read by the client. If you would like to disable encryption for a certain subset of cookies generated by your application, you may use the <code class="docutils literal"><span class="pre">$except</span></code> property of the <code class="docutils literal"><span class="pre">App\Http\Middleware\EncryptCookies</span></code> middleware:</p>
<pre class="literal-block">
/**
 * The names of the cookies that should not be encrypted.
 *
 * &#64;var array
 */
protected $except = [
    'cookie_name',
];
</pre>
<p><a name="other-response-types"></a></p>
</div>
</div>
<div class="section" id="other-response-types">
<span id="other-response-types"></span><h2>Other Response Types<a class="headerlink" href="#other-response-types" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">response</span></code> helper may be used to conveniently generate other types of response instances. When the <code class="docutils literal"><span class="pre">response</span></code> helper is called without arguments, an implementation of the <code class="docutils literal"><span class="pre">Illuminate\Contracts\Routing\ResponseFactory</span></code> <a class="reference external" href="/docs/{{version}}/contracts">contract</a> is returned. This contract provides several helpful methods for generating responses.</p>
<p><a name="view-responses"></a></p>
<div class="section" id="view-responses">
<span id="view-responses"></span><h3>View Responses<a class="headerlink" href="#view-responses" title="Permalink to this headline">¶</a></h3>
<p>If you need control over the response status and headers, but also need to return a <a class="reference external" href="/docs/{{version}}/views">view</a> as the response content, you may use the <code class="docutils literal"><span class="pre">view</span></code> method:</p>
<pre class="literal-block">
return response()-&gt;view('hello', $data)-&gt;header('Content-Type', $type);
</pre>
<p>Of course, if you do not need to pass a custom HTTP status code or custom headers, you may simply use the global <code class="docutils literal"><span class="pre">view</span></code> helper function.</p>
<p><a name="json-responses"></a></p>
</div>
<div class="section" id="json-responses">
<span id="json-responses"></span><h3>JSON Responses<a class="headerlink" href="#json-responses" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">json</span></code> method will automatically set the <code class="docutils literal"><span class="pre">Content-Type</span></code> header to <code class="docutils literal"><span class="pre">application/json</span></code>, as well as convert the given array into JSON using the <code class="docutils literal"><span class="pre">json_encode</span></code> PHP function:</p>
<pre class="literal-block">
return response()-&gt;json(['name' =&gt; 'Abigail', 'state' =&gt; 'CA']);
</pre>
<p>If you would like to create a JSONP response, you may use the <code class="docutils literal"><span class="pre">json</span></code> method in addition to <code class="docutils literal"><span class="pre">setCallback</span></code>:</p>
<pre class="literal-block">
return response()-&gt;json(['name' =&gt; 'Abigail', 'state' =&gt; 'CA'])
                 -&gt;setCallback($request-&gt;input('callback'));
</pre>
<p><a name="file-downloads"></a></p>
</div>
<div class="section" id="file-downloads">
<span id="file-downloads"></span><h3>File Downloads<a class="headerlink" href="#file-downloads" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">download</span></code> method may be used to generate a response that forces the user&#8217;s browser to download the file at the given path. The <code class="docutils literal"><span class="pre">download</span></code> method accepts a file name as the second argument to the method, which will determine the file name that is seen by the user downloading the file. Finally, you may pass an array of HTTP headers as the third argument to the method:</p>
<pre class="literal-block">
return response()-&gt;download($pathToFile);

return response()-&gt;download($pathToFile, $name, $headers);
</pre>
<blockquote>
<div><strong>Note:</strong> Symfony HttpFoundation, which manages file downloads, requires the file being downloaded to have an ASCII file name.</div></blockquote>
<p><a name="redirects"></a></p>
</div>
</div>
<div class="section" id="redirects">
<span id="redirects"></span><h2>Redirects<a class="headerlink" href="#redirects" title="Permalink to this headline">¶</a></h2>
<p>Redirect responses are instances of the <code class="docutils literal"><span class="pre">Illuminate\Http\RedirectResponse</span></code> class, and contain the proper headers needed to redirect the user to another URL. There are several ways to generate a <code class="docutils literal"><span class="pre">RedirectResponse</span></code> instance. The simplest method is to use the global <code class="docutils literal"><span class="pre">redirect</span></code> helper method:</p>
<pre class="literal-block">
Route::get('dashboard', function () {
    return redirect('home/dashboard');
});
</pre>
<p>Sometimes you may wish to redirect the user to their previous location, for example, after a form submission that is invalid. You may do so by using the global <code class="docutils literal"><span class="pre">back</span></code> helper function:</p>
<pre class="literal-block">
Route::post('user/profile', function () {
    // Validate the request...

    return back()-&gt;withInput();
});
</pre>
<p><a name="redirecting-named-routes"></a></p>
<div class="section" id="redirecting-to-named-routes">
<span id="redirecting-to-named-routes"></span><h3>Redirecting To Named Routes<a class="headerlink" href="#redirecting-to-named-routes" title="Permalink to this headline">¶</a></h3>
<p>When you call the <code class="docutils literal"><span class="pre">redirect</span></code> helper with no parameters, an instance of <code class="docutils literal"><span class="pre">Illuminate\Routing\Redirector</span></code> is returned, allowing you to call any method on the <code class="docutils literal"><span class="pre">Redirector</span></code> instance. For example, to generate a <code class="docutils literal"><span class="pre">RedirectResponse</span></code> to a named route, you may use the <code class="docutils literal"><span class="pre">route</span></code> method:</p>
<pre class="literal-block">
return redirect()-&gt;route('login');
</pre>
<p>If your route has parameters, you may pass them as the second argument to the <code class="docutils literal"><span class="pre">route</span></code> method:</p>
<pre class="literal-block">
// For a route with the following URI: profile/{id}

return redirect()-&gt;route('profile', [1]);
</pre>
<p>If you are redirecting to a route with an &#8220;ID&#8221; parameter that is being populated from an Eloquent model, you may simply pass the model itself. The ID will be extracted automatically:</p>
<pre class="literal-block">
return redirect()-&gt;route('profile', [$user]);
</pre>
<p><a name="redirecting-controller-actions"></a></p>
</div>
<div class="section" id="redirecting-to-controller-actions">
<span id="redirecting-to-controller-actions"></span><h3>Redirecting To Controller Actions<a class="headerlink" href="#redirecting-to-controller-actions" title="Permalink to this headline">¶</a></h3>
<p>You may also generate redirects to <a class="reference external" href="/docs/{{version}}/controllers">controller actions</a>. To do so, simply pass the controller and action name to the <code class="docutils literal"><span class="pre">action</span></code> method. Remember, you do not need to specify the full namespace to the controller since Laravel&#8217;s <code class="docutils literal"><span class="pre">RouteServiceProvider</span></code> will automatically set the default controller namespace:</p>
<pre class="literal-block">
return redirect()-&gt;action('HomeController&#64;index');
</pre>
<p>Of course, if your controller route requires parameters, you may pass them as the second argument to the <code class="docutils literal"><span class="pre">action</span></code> method:</p>
<pre class="literal-block">
return redirect()-&gt;action('UserController&#64;profile', [1]);
</pre>
<p><a name="redirecting-with-flashed-session-data"></a></p>
</div>
<div class="section" id="redirecting-with-flashed-session-data">
<span id="redirecting-with-flashed-session-data"></span><h3>Redirecting With Flashed Session Data<a class="headerlink" href="#redirecting-with-flashed-session-data" title="Permalink to this headline">¶</a></h3>
<p>Redirecting to a new URL and <a class="reference external" href="/docs/{{version}}/session#flash-data">flashing data to the session</a> are typically done at the same time. So, for convenience, you may create a <code class="docutils literal"><span class="pre">RedirectResponse</span></code> instance <strong>and</strong> flash data to the session in a single method chain. This is particularly convenient for storing status messages after an action:</p>
<pre class="literal-block">
Route::post('user/profile', function () {
    // Update the user's profile...

    return redirect('dashboard')-&gt;with('status', 'Profile updated!');
});
</pre>
<p>Of course, after the user is redirected to a new page, you may retrieve and display the flashed message from the <a class="reference external" href="/docs/{{version}}/session">session</a>. For example, using <a class="reference external" href="/docs/{{version}}/blade">Blade syntax</a>:</p>
<pre class="literal-block">
&#64;if (session('status'))
    &lt;div class=&quot;alert alert-success&quot;&gt;
        {{ session('status') }}
    &lt;/div&gt;
&#64;endif
</pre>
<p><a name="response-macros"></a></p>
</div>
</div>
<div class="section" id="response-macros">
<span id="response-macros"></span><h2>Response Macros<a class="headerlink" href="#response-macros" title="Permalink to this headline">¶</a></h2>
<p>If you would like to define a custom response that you can re-use in a variety of your routes and controllers, you may use the <code class="docutils literal"><span class="pre">macro</span></code> method on an implementation of <code class="docutils literal"><span class="pre">Illuminate\Contracts\Routing\ResponseFactory</span></code>.</p>
<p>For example, from a <a class="reference external" href="/docs/{{version}}/providers">service provider&#8217;s</a> <code class="docutils literal"><span class="pre">boot</span></code> method:</p>
<pre class="literal-block">
&lt;?php

namespace App\Providers;

use Illuminate\Support\ServiceProvider;
use Illuminate\Contracts\Routing\ResponseFactory;

class ResponseMacroServiceProvider extends ServiceProvider
{
    /**
     * Perform post-registration booting of services.
     *
     * &#64;param  ResponseFactory  $factory
     * &#64;return void
     */
    public function boot(ResponseFactory $factory)
    {
        $factory-&gt;macro('caps', function ($value) use ($factory) {
            return $factory-&gt;make(strtoupper($value));
        });
    }
}
</pre>
<p>The <code class="docutils literal"><span class="pre">macro</span></code> function accepts a name as its first argument, and a Closure as its second. The macro&#8217;s Closure will be executed when calling the macro name from a <code class="docutils literal"><span class="pre">ResponseFactory</span></code> implementation or the <code class="docutils literal"><span class="pre">response</span></code> helper:</p>
<pre class="literal-block">
return response()-&gt;caps('foo');
</pre>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, The Weezqyd.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>