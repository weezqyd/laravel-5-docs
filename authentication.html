

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Authentication &mdash; Laravel 5 Documentation 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Laravel 5 Documentation 1.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Laravel 5 Documentation
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <!-- Local TOC -->
                <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Authentication</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#database-considerations">Database Considerations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#authentication-quickstart">Authentication Quickstart</a><ul>
<li><a class="reference internal" href="#routing">Routing</a></li>
<li><a class="reference internal" href="#views">Views</a><ul>
<li><a class="reference internal" href="#sample-authentication-form">Sample Authentication Form</a></li>
<li><a class="reference internal" href="#sample-registration-form">Sample Registration Form</a></li>
</ul>
</li>
<li><a class="reference internal" href="#authenticating">Authenticating</a><ul>
<li><a class="reference internal" href="#customizations">Customizations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#retrieving-the-authenticated-user">Retrieving The Authenticated User</a><ul>
<li><a class="reference internal" href="#determining-if-the-current-user-is-authenticated">Determining If The Current User Is Authenticated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#protecting-routes">Protecting Routes</a></li>
<li><a class="reference internal" href="#authentication-throttling">Authentication Throttling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#manually-authenticating-users">Manually Authenticating Users</a></li>
<li><a class="reference internal" href="#remembering-users">Remembering Users</a><ul>
<li><a class="reference internal" href="#other-authentication-methods">Other Authentication Methods</a><ul>
<li><a class="reference internal" href="#authenticate-a-user-instance">Authenticate A User Instance</a></li>
<li><a class="reference internal" href="#authenticate-a-user-by-id">Authenticate A User By ID</a></li>
<li><a class="reference internal" href="#authenticate-a-user-once">Authenticate A User Once</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#http-basic-authentication">HTTP Basic Authentication</a><ul>
<li><a class="reference internal" href="#a-note-on-fastcgi">A Note On FastCGI</a></li>
<li><a class="reference internal" href="#stateless-http-basic-authentication">Stateless HTTP Basic Authentication</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resetting-passwords">Resetting Passwords</a><ul>
<li><a class="reference internal" href="#database-considerations">Database Considerations</a><ul>
<li><a class="reference internal" href="#generating-the-reset-token-table-migration">Generating The Reset Token Table Migration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#routing">Routing</a></li>
<li><a class="reference internal" href="#views">Views</a><ul>
<li><a class="reference internal" href="#sample-password-reset-link-request-form">Sample Password Reset Link Request Form</a></li>
<li><a class="reference internal" href="#sample-password-reset-form">Sample Password Reset Form</a></li>
</ul>
</li>
<li><a class="reference internal" href="#after-resetting-passwords">After Resetting Passwords</a></li>
</ul>
</li>
<li><a class="reference internal" href="#social-authentication">Social Authentication</a><ul>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#basic-usage">Basic Usage</a><ul>
<li><a class="reference internal" href="#retrieving-user-details">Retrieving User Details</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#adding-custom-authentication-drivers">Adding Custom Authentication Drivers</a><ul>
<li><a class="reference internal" href="#the-user-provider-contract">The User Provider Contract</a></li>
<li><a class="reference internal" href="#the-authenticatable-contract">The Authenticatable Contract</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Laravel 5 Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Authentication</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/authentication.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="authentication">
<span id="authentication"></span><h1>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference external" href="#introduction">Introduction</a></li>
<li><a class="reference external" href="#authentication-quickstart">Authentication Quickstart</a><ul>
<li><a class="reference external" href="#included-routing">Routing</a></li>
<li><a class="reference external" href="#included-views">Views</a></li>
<li><a class="reference external" href="#included-authenticating">Authenticating</a></li>
<li><a class="reference external" href="#retrieving-the-authenticated-user">Retrieving The Authenticated User</a></li>
<li><a class="reference external" href="#protecting-routes">Protecting Routes</a></li>
<li><a class="reference external" href="#authentication-throttling">Authentication Throttling</a></li>
</ul>
</li>
<li><a class="reference external" href="#authenticating-users">Manually Authenticating Users</a><ul>
<li><a class="reference external" href="#remembering-users">Remembering Users</a></li>
<li><a class="reference external" href="#other-authentication-methods">Other Authentication Methods</a></li>
</ul>
</li>
<li><a class="reference external" href="#http-basic-authentication">HTTP Basic Authentication</a><ul>
<li><a class="reference external" href="#stateless-http-basic-authentication">Stateless HTTP Basic Authentication</a></li>
</ul>
</li>
<li><a class="reference external" href="#resetting-passwords">Resetting Passwords</a><ul>
<li><a class="reference external" href="#resetting-database">Database Considerations</a></li>
<li><a class="reference external" href="#resetting-routing">Routing</a></li>
<li><a class="reference external" href="#resetting-views">Views</a></li>
<li><a class="reference external" href="#after-resetting-passwords">After Resetting Passwords</a></li>
</ul>
</li>
<li><a class="reference external" href="#social-authentication">Social Authentication</a></li>
<li><a class="reference external" href="#adding-custom-authentication-drivers">Adding Custom Authentication Drivers</a></li>
</ul>
<p><a name="introduction"></a></p>
<div class="section" id="introduction">
<span id="introduction"></span><h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Laravel makes implementing authentication very simple. In fact, almost everything is configured for you out of the box. The authentication configuration file is located at <code class="docutils literal"><span class="pre">config/auth.php</span></code>, which contains several well documented options for tweaking the behavior of the authentication services.</p>
<div class="section" id="database-considerations">
<span id="database-considerations"></span><h3>Database Considerations<a class="headerlink" href="#database-considerations" title="Permalink to this headline">¶</a></h3>
<p>By default, Laravel includes an <code class="docutils literal"><span class="pre">App\User</span></code> <a class="reference external" href="eloquent.html">Eloquent model</a> in your <code class="docutils literal"><span class="pre">app</span></code> directory. This model may be used with the default Eloquent authentication driver. If your application is not using Eloquent, you may use the <code class="docutils literal"><span class="pre">database</span></code> authentication driver which uses the Laravel query builder.</p>
<p>When building the database schema for the <code class="docutils literal"><span class="pre">App\User</span></code> model, make sure the password column is at least 60 characters in length.</p>
<p>Also, you should verify that your <code class="docutils literal"><span class="pre">users</span></code> (or equivalent) table contains a nullable, string <code class="docutils literal"><span class="pre">remember_token</span></code> column of 100 characters. This column will be used to store a token for &#8220;remember me&#8221; sessions being maintained by your application. This can be done by using <code class="docutils literal"><span class="pre">$table-&gt;rememberToken();</span></code> in a migration.</p>
<p><a name="authentication-quickstart"></a></p>
</div>
</div>
<div class="section" id="authentication-quickstart">
<span id="authentication-quickstart"></span><h2>Authentication Quickstart<a class="headerlink" href="#authentication-quickstart" title="Permalink to this headline">¶</a></h2>
<p>Laravel ships with two authentication controllers out of the box, which are located in the <code class="docutils literal"><span class="pre">App\Http\Controllers\Auth</span></code> namespace. The <code class="docutils literal"><span class="pre">AuthController</span></code> handles new user registration and authentication, while the <code class="docutils literal"><span class="pre">PasswordController</span></code> contains the logic to help existing users reset their forgotten passwords. Each of these controllers uses a trait to include their necessary methods. For many applications, you will not need to modify these controllers at all.</p>
<p><a name="included-routing"></a></p>
<div class="section" id="routing">
<span id="routing"></span><h3>Routing<a class="headerlink" href="#routing" title="Permalink to this headline">¶</a></h3>
<p>By default, no <a class="reference external" href="routing.html">routes</a> are included to point requests to the authentication controllers. You may manually add them to your <code class="docutils literal"><span class="pre">app/Http/routes.php</span></code> file:</p>
<pre class="literal-block">
// Authentication routes...
Route::get('auth/login', 'Auth\AuthController&#64;getLogin');
Route::post('auth/login', 'Auth\AuthController&#64;postLogin');
Route::get('auth/logout', 'Auth\AuthController&#64;getLogout');

// Registration routes...
Route::get('auth/register', 'Auth\AuthController&#64;getRegister');
Route::post('auth/register', 'Auth\AuthController&#64;postRegister');
</pre>
<p><a name="included-views"></a></p>
</div>
<div class="section" id="views">
<span id="views"></span><h3>Views<a class="headerlink" href="#views" title="Permalink to this headline">¶</a></h3>
<p>Though the authentication controllers are included with the framework, you will need to provide <a class="reference external" href="views.html">views</a> that these controllers can render. The views should be placed in the <code class="docutils literal"><span class="pre">resources/views/auth</span></code> directory. You are free to customize these views however you wish. The login view should be placed at <code class="docutils literal"><span class="pre">resources/views/auth/login.blade.php</span></code>, and the registration view should be placed at <code class="docutils literal"><span class="pre">resources/views/auth/register.blade.php</span></code>.</p>
<div class="section" id="sample-authentication-form">
<span id="sample-authentication-form"></span><h4>Sample Authentication Form<a class="headerlink" href="#sample-authentication-form" title="Permalink to this headline">¶</a></h4>
<pre class="literal-block">
&lt;!-- resources/views/auth/login.blade.php --&gt;

&lt;form method=&quot;POST&quot; action=&quot;/auth/login&quot;&gt;
    {!! csrf_field() !!}

    &lt;div&gt;
        Email
        &lt;input type=&quot;email&quot; name=&quot;email&quot; value=&quot;{{ old('email') }}&quot;&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Password
        &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot;&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;input type=&quot;checkbox&quot; name=&quot;remember&quot;&gt; Remember Me
    &lt;/div&gt;

    &lt;div&gt;
        &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;
</pre>
</div>
<div class="section" id="sample-registration-form">
<span id="sample-registration-form"></span><h4>Sample Registration Form<a class="headerlink" href="#sample-registration-form" title="Permalink to this headline">¶</a></h4>
<pre class="literal-block">
&lt;!-- resources/views/auth/register.blade.php --&gt;

&lt;form method=&quot;POST&quot; action=&quot;/auth/register&quot;&gt;
    {!! csrf_field() !!}

    &lt;div&gt;
        Name
        &lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;{{ old('name') }}&quot;&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Email
        &lt;input type=&quot;email&quot; name=&quot;email&quot; value=&quot;{{ old('email') }}&quot;&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Password
        &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Confirm Password
        &lt;input type=&quot;password&quot; name=&quot;password_confirmation&quot;&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;button type=&quot;submit&quot;&gt;Register&lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;
</pre>
<p><a name="included-authenticating"></a></p>
</div>
</div>
<div class="section" id="authenticating">
<span id="authenticating"></span><h3>Authenticating<a class="headerlink" href="#authenticating" title="Permalink to this headline">¶</a></h3>
<p>Now that you have routes and views setup for the included authentication controllers, you are ready to register and authenticate new users for your application. You may simply access your defined routes in a browser. The authentication controllers already contain the logic (via their traits) to authenticate existing users and store new users in the database.</p>
<p>When a user is successfully authenticated, they will be redirected to the <code class="docutils literal"><span class="pre">/home</span></code> URI, which you will need to register a route to handle. You can customize the post-authentication redirect location by defining a <code class="docutils literal"><span class="pre">redirectPath</span></code> property on the <code class="docutils literal"><span class="pre">AuthController</span></code>:</p>
<pre class="literal-block">
protected $redirectPath = '/dashboard';
</pre>
<p>When a user is not successfully authenticated, they will be redirected to the <code class="docutils literal"><span class="pre">/auth/login</span></code> URI. You can customize the failed post-authentication redirect location by defining a <code class="docutils literal"><span class="pre">loginPath</span></code> property on the <code class="docutils literal"><span class="pre">AuthController</span></code>:</p>
<pre class="literal-block">
protected $loginPath = '/login';
</pre>
<p>The <code class="docutils literal"><span class="pre">loginPath</span></code> will not change where a user is bounced if they try to access a protected route. That is controlled by the <code class="docutils literal"><span class="pre">App\Http\Middleware\Authenticate</span></code> middleware&#8217;s <code class="docutils literal"><span class="pre">handle</span></code> method.</p>
<div class="section" id="customizations">
<span id="customizations"></span><h4>Customizations<a class="headerlink" href="#customizations" title="Permalink to this headline">¶</a></h4>
<p>To modify the form fields that are required when a new user registers with your application, or to customize how new user records are inserted into your database, you may modify the <code class="docutils literal"><span class="pre">AuthController</span></code> class. This class is responsible for validating and creating new users of your application.</p>
<p>The <code class="docutils literal"><span class="pre">validator</span></code> method of the <code class="docutils literal"><span class="pre">AuthController</span></code> contains the validation rules for new users of the application. You are free to modify this method as you wish.</p>
<p>The <code class="docutils literal"><span class="pre">create</span></code> method of the <code class="docutils literal"><span class="pre">AuthController</span></code> is responsible for creating new <code class="docutils literal"><span class="pre">App\User</span></code> records in your database using the <a class="reference external" href="eloquent.html">Eloquent ORM</a>. You are free to modify this method according to the needs of your database.</p>
<p><a name="retrieving-the-authenticated-user"></a></p>
</div>
</div>
<div class="section" id="retrieving-the-authenticated-user">
<span id="retrieving-the-authenticated-user"></span><h3>Retrieving The Authenticated User<a class="headerlink" href="#retrieving-the-authenticated-user" title="Permalink to this headline">¶</a></h3>
<p>You may access the authenticated user via the <code class="docutils literal"><span class="pre">Auth</span></code> facade:</p>
<pre class="literal-block">
$user = Auth::user();
</pre>
<p>Alternatively, once a user is authenticated, you may access the authenticated user via an <code class="docutils literal"><span class="pre">Illuminate\Http\Request</span></code> instance:</p>
<pre class="literal-block">
&lt;?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\Routing\Controller;

class ProfileController extends Controller
{
    /**
     * Update the user's profile.
     *
     * &#64;param  Request  $request
     * &#64;return Response
     */
    public function updateProfile(Request $request)
    {
        if ($request-&gt;user()) {
            // $request-&gt;user() returns an instance of the authenticated user...
        }
    }
}
</pre>
<div class="section" id="determining-if-the-current-user-is-authenticated">
<span id="determining-if-the-current-user-is-authenticated"></span><h4>Determining If The Current User Is Authenticated<a class="headerlink" href="#determining-if-the-current-user-is-authenticated" title="Permalink to this headline">¶</a></h4>
<p>To determine if the user is already logged into your application, you may use the <code class="docutils literal"><span class="pre">check</span></code> method on the <code class="docutils literal"><span class="pre">Auth</span></code> facade, which will return <code class="docutils literal"><span class="pre">true</span></code> if the user is authenticated:</p>
<pre class="literal-block">
if (Auth::check()) {
    // The user is logged in...
}
</pre>
<p>However, you may use middleware to verify that the user is authenticated before allowing the user access to certain routes / controllers. To learn more about this, check out the documentation on <a class="reference external" href="authentication.html#protecting-routes">protecting routes</a>.</p>
<p><a name="protecting-routes"></a></p>
</div>
</div>
<div class="section" id="protecting-routes">
<span id="protecting-routes"></span><h3>Protecting Routes<a class="headerlink" href="#protecting-routes" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="middleware.html">Route middleware</a> can be used to allow only authenticated users to access a given route. Laravel ships with the <code class="docutils literal"><span class="pre">auth</span></code> middleware, which is defined in <code class="docutils literal"><span class="pre">app\Http\Middleware\Authenticate.php</span></code>. All you need to do is attach the middleware to a route definition:</p>
<pre class="literal-block">
// Using A Route Closure...

Route::get('profile', ['middleware' =&gt; 'auth', function() {
    // Only authenticated users may enter...
}]);

// Using A Controller...

Route::get('profile', [
    'middleware' =&gt; 'auth',
    'uses' =&gt; 'ProfileController&#64;show'
]);
</pre>
<p>Of course, if you are using <a class="reference external" href="controllers.html">controller classes</a>, you may call the <code class="docutils literal"><span class="pre">middleware</span></code> method from the controller&#8217;s constructor instead of attaching it in the route definition directly:</p>
<pre class="literal-block">
public function __construct()
{
    $this-&gt;middleware('auth');
}
</pre>
<p><a name="authentication-throttling"></a></p>
</div>
<div class="section" id="authentication-throttling">
<span id="authentication-throttling"></span><h3>Authentication Throttling<a class="headerlink" href="#authentication-throttling" title="Permalink to this headline">¶</a></h3>
<p>If you are using Laravel&#8217;s built-in <code class="docutils literal"><span class="pre">AuthController</span></code> class, the <code class="docutils literal"><span class="pre">Illuminate\Foundation\Auth\ThrottlesLogins</span></code> trait may be used to throttle login attempts to your application. By default, the user will not be able to login for one minute if they fail to provide the correct credentials after several attempts. The throttling is unique to the user&#8217;s username / e-mail address and their IP address:</p>
<pre class="literal-block">
&lt;?php

namespace App\Http\Controllers\Auth;

use App\User;
use Validator;
use App\Http\Controllers\Controller;
use Illuminate\Foundation\Auth\ThrottlesLogins;
use Illuminate\Foundation\Auth\AuthenticatesAndRegistersUsers;

class AuthController extends Controller
{
    use AuthenticatesAndRegistersUsers, ThrottlesLogins;

    // Rest of AuthController class...
}
</pre>
<p><a name="authenticating-users"></a></p>
</div>
</div>
<div class="section" id="manually-authenticating-users">
<span id="manually-authenticating-users"></span><h2>Manually Authenticating Users<a class="headerlink" href="#manually-authenticating-users" title="Permalink to this headline">¶</a></h2>
<p>Of course, you are not required to use the authentication controllers included with Laravel. If you choose to remove these controllers, you will need to manage user authentication using the Laravel authentication classes directly. Don&#8217;t worry, it&#8217;s a cinch!</p>
<p>We will access Laravel&#8217;s authentication services via the <code class="docutils literal"><span class="pre">Auth</span></code> <a class="reference external" href="facades.html">facade</a>, so we&#8217;ll need to make sure to import the <code class="docutils literal"><span class="pre">Auth</span></code> facade at the top of the class. Next, let&#8217;s check out the <code class="docutils literal"><span class="pre">attempt</span></code> method:</p>
<pre class="literal-block">
&lt;?php

namespace App\Http\Controllers;

use Auth;
use Illuminate\Routing\Controller;

class AuthController extends Controller
{
    /**
     * Handle an authentication attempt.
     *
     * &#64;return Response
     */
    public function authenticate()
    {
        if (Auth::attempt(['email' =&gt; $email, 'password' =&gt; $password])) {
            // Authentication passed...
            return redirect()-&gt;intended('dashboard');
        }
    }
}
</pre>
<p>The <code class="docutils literal"><span class="pre">attempt</span></code> method accepts an array of key / value pairs as its first argument. The values in the array will be used to find the user in your database table. So, in the example above, the user will be retrieved by the value of the <code class="docutils literal"><span class="pre">email</span></code> column. If the user is found, the hashed password stored in the database will be compared with the hashed <code class="docutils literal"><span class="pre">password</span></code> value passed to the method via the array. If the two hashed passwords match an authenticated session will be started for the user.</p>
<p>The <code class="docutils literal"><span class="pre">attempt</span></code> method will return <code class="docutils literal"><span class="pre">true</span></code> if authentication was successful. Otherwise, <code class="docutils literal"><span class="pre">false</span></code> will be returned.</p>
<p>The <code class="docutils literal"><span class="pre">intended</span></code> method on the redirector will redirect the user to the URL they were attempting to access before being caught by the authentication filter. A fallback URI may be given to this method in case the intended destination is not available.</p>
<p>If you wish, you also may add extra conditions to the authentication query in addition to the user&#8217;s e-mail and password. For example, we may verify that user is marked as &#8220;active&#8221;:</p>
<pre class="literal-block">
if (Auth::attempt(['email' =&gt; $email, 'password' =&gt; $password, 'active' =&gt; 1])) {
    // The user is active, not suspended, and exists.
}
</pre>
<p>To log users out of your application, you may use the <code class="docutils literal"><span class="pre">logout</span></code> method on the <code class="docutils literal"><span class="pre">Auth</span></code> facade. This will clear the authentication information in the user&#8217;s session:</p>
<pre class="literal-block">
Auth::logout();
</pre>
<blockquote>
<div><strong>Note:</strong> In these examples, <code class="docutils literal"><span class="pre">email</span></code> is not a required option, it is merely used as an example. You should use whatever column name corresponds to a &#8220;username&#8221; in your database.</div></blockquote>
<p><a name="remembering-users"></a></p>
</div>
<div class="section" id="remembering-users">
<span id="remembering-users"></span><h2>Remembering Users<a class="headerlink" href="#remembering-users" title="Permalink to this headline">¶</a></h2>
<p>If you would like to provide &#8220;remember me&#8221; functionality in your application, you may pass a boolean value as the second argument to the <code class="docutils literal"><span class="pre">attempt</span></code> method, which will keep the user authenticated indefinitely, or until they manually logout. Of course, your <code class="docutils literal"><span class="pre">users</span></code> table must include the string <code class="docutils literal"><span class="pre">remember_token</span></code> column, which will be used to store the &#8220;remember me&#8221; token.</p>
<pre class="literal-block">
if (Auth::attempt(['email' =&gt; $email, 'password' =&gt; $password], $remember)) {
    // The user is being remembered...
}
</pre>
<p>If you are &#8220;remembering&#8221; users, you may use the <code class="docutils literal"><span class="pre">viaRemember</span></code> method to determine if the user was authenticated using the &#8220;remember me&#8221; cookie:</p>
<pre class="literal-block">
if (Auth::viaRemember()) {
    //
}
</pre>
<p><a name="other-authentication-methods"></a></p>
<div class="section" id="other-authentication-methods">
<span id="other-authentication-methods"></span><h3>Other Authentication Methods<a class="headerlink" href="#other-authentication-methods" title="Permalink to this headline">¶</a></h3>
<div class="section" id="authenticate-a-user-instance">
<span id="authenticate-a-user-instance"></span><h4>Authenticate A User Instance<a class="headerlink" href="#authenticate-a-user-instance" title="Permalink to this headline">¶</a></h4>
<p>If you need to log an existing user instance into your application, you may call the <code class="docutils literal"><span class="pre">login</span></code> method with the user instance. The given object must be an implementation of the <code class="docutils literal"><span class="pre">Illuminate\Contracts\Auth\Authenticatable</span></code> <a class="reference external" href="contracts.html">contract</a>. Of course, the <code class="docutils literal"><span class="pre">App\User</span></code> model included with Laravel already implements this interface:</p>
<pre class="literal-block">
Auth::login($user);
</pre>
</div>
<div class="section" id="authenticate-a-user-by-id">
<span id="authenticate-a-user-by-id"></span><h4>Authenticate A User By ID<a class="headerlink" href="#authenticate-a-user-by-id" title="Permalink to this headline">¶</a></h4>
<p>To log a user into the application by their ID, you may use the <code class="docutils literal"><span class="pre">loginUsingId</span></code> method. This method simply accepts the primary key of the user you wish to authenticate:</p>
<pre class="literal-block">
Auth::loginUsingId(1);
</pre>
</div>
<div class="section" id="authenticate-a-user-once">
<span id="authenticate-a-user-once"></span><h4>Authenticate A User Once<a class="headerlink" href="#authenticate-a-user-once" title="Permalink to this headline">¶</a></h4>
<p>You may use the <code class="docutils literal"><span class="pre">once</span></code> method to log a user into the application for a single request. No sessions or cookies will be utilized, which may be helpful when building a stateless API. The <code class="docutils literal"><span class="pre">once</span></code> method has the same signature as the <code class="docutils literal"><span class="pre">attempt</span></code> method:</p>
<pre class="literal-block">
if (Auth::once($credentials)) {
    //
}
</pre>
<p><a name="http-basic-authentication"></a></p>
</div>
</div>
</div>
<div class="section" id="http-basic-authentication">
<span id="http-basic-authentication"></span><h2>HTTP Basic Authentication<a class="headerlink" href="#http-basic-authentication" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic Authentication</a> provides a quick way to authenticate users of your application without setting up a dedicated &#8220;login&#8221; page. To get started, attach the <code class="docutils literal"><span class="pre">auth.basic</span></code> <a class="reference external" href="middleware.html">middleware</a> to your route. The <code class="docutils literal"><span class="pre">auth.basic</span></code> middleware is included with the Laravel framework, so you do not need to define it:</p>
<pre class="literal-block">
Route::get('profile', ['middleware' =&gt; 'auth.basic', function() {
    // Only authenticated users may enter...
}]);
</pre>
<p>Once the middleware has been attached to the route, you will automatically be prompted for credentials when accessing the route in your browser. By default, the <code class="docutils literal"><span class="pre">auth.basic</span></code> middleware will use the <code class="docutils literal"><span class="pre">email</span></code> column on the user record as the &#8220;username&#8221;.</p>
<div class="section" id="a-note-on-fastcgi">
<span id="a-note-on-fastcgi"></span><h3>A Note On FastCGI<a class="headerlink" href="#a-note-on-fastcgi" title="Permalink to this headline">¶</a></h3>
<p>If you are using PHP FastCGI, HTTP Basic authentication may not work correctly out of the box. The following lines should be added to your <code class="docutils literal"><span class="pre">.htaccess</span></code> file:</p>
<pre class="literal-block">
RewriteCond %{HTTP:Authorization} ^(.+)$
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
</pre>
<p><a name="stateless-http-basic-authentication"></a></p>
</div>
<div class="section" id="stateless-http-basic-authentication">
<span id="stateless-http-basic-authentication"></span><h3>Stateless HTTP Basic Authentication<a class="headerlink" href="#stateless-http-basic-authentication" title="Permalink to this headline">¶</a></h3>
<p>You may also use HTTP Basic Authentication without setting a user identifier cookie in the session, which is particularly useful for API authentication. To do so, <a class="reference external" href="middleware.html">define a middleware</a> that calls the <code class="docutils literal"><span class="pre">onceBasic</span></code> method. If no response is returned by the <code class="docutils literal"><span class="pre">onceBasic</span></code> method, the request may be passed further into the application:</p>
<pre class="literal-block">
&lt;?php

namespace Illuminate\Auth\Middleware;

use Auth;
use Closure;

class AuthenticateOnceWithBasicAuth
{
    /**
     * Handle an incoming request.
     *
     * &#64;param  \Illuminate\Http\Request  $request
     * &#64;param  \Closure  $next
     * &#64;return mixed
     */
    public function handle($request, Closure $next)
    {
        return Auth::onceBasic() ?: $next($request);
    }

}
</pre>
<p>Next, <a class="reference external" href="middleware#registering-middleware.html">register the route middleware</a> and attach it to a route:</p>
<pre class="literal-block">
Route::get('api/user', ['middleware' =&gt; 'auth.basic.once', function() {
    // Only authenticated users may enter...
}]);
</pre>
<p><a name="resetting-passwords"></a></p>
</div>
</div>
<div class="section" id="resetting-passwords">
<span id="resetting-passwords"></span><h2>Resetting Passwords<a class="headerlink" href="#resetting-passwords" title="Permalink to this headline">¶</a></h2>
<p><a name="resetting-database"></a></p>
<div class="section" id="database-considerations">
<span id="id1"></span><h3>Database Considerations<a class="headerlink" href="#database-considerations" title="Permalink to this headline">¶</a></h3>
<p>Most web applications provide a way for users to reset their forgotten passwords. Rather than forcing you to re-implement this on each application, Laravel provides convenient methods for sending password reminders and performing password resets.</p>
<p>To get started, verify that your <code class="docutils literal"><span class="pre">App\User</span></code> model implements the <code class="docutils literal"><span class="pre">Illuminate\Contracts\Auth\CanResetPassword</span></code> contract. Of course, the <code class="docutils literal"><span class="pre">App\User</span></code> model included with the framework already implements this interface, and uses the <code class="docutils literal"><span class="pre">Illuminate\Auth\Passwords\CanResetPassword</span></code> trait to include the methods needed to implement the interface.</p>
<div class="section" id="generating-the-reset-token-table-migration">
<span id="generating-the-reset-token-table-migration"></span><h4>Generating The Reset Token Table Migration<a class="headerlink" href="#generating-the-reset-token-table-migration" title="Permalink to this headline">¶</a></h4>
<p>Next, a table must be created to store the password reset tokens. The migration for this table is included with Laravel out of the box, and resides in the <code class="docutils literal"><span class="pre">database/migrations</span></code> directory. So, all you need to do is migrate:</p>
<pre class="literal-block">
php artisan migrate
</pre>
<p><a name="resetting-routing"></a></p>
</div>
</div>
<div class="section" id="routing">
<span id="id2"></span><h3>Routing<a class="headerlink" href="#routing" title="Permalink to this headline">¶</a></h3>
<p>Laravel includes an <code class="docutils literal"><span class="pre">Auth\PasswordController</span></code> that contains the logic necessary to reset user passwords. However, you will need to define routes to point requests to this controller:</p>
<pre class="literal-block">
// Password reset link request routes...
Route::get('password/email', 'Auth\PasswordController&#64;getEmail');
Route::post('password/email', 'Auth\PasswordController&#64;postEmail');

// Password reset routes...
Route::get('password/reset/{token}', 'Auth\PasswordController&#64;getReset');
Route::post('password/reset', 'Auth\PasswordController&#64;postReset');
</pre>
<p><a name="resetting-views"></a></p>
</div>
<div class="section" id="views">
<span id="id3"></span><h3>Views<a class="headerlink" href="#views" title="Permalink to this headline">¶</a></h3>
<p>In addition to defining the routes for the <code class="docutils literal"><span class="pre">PasswordController</span></code>, you will need to provide views that can be returned by this controller. Don&#8217;t worry, we will provide sample views to help you get started. Of course, you are free to style your forms however you wish.</p>
<div class="section" id="sample-password-reset-link-request-form">
<span id="sample-password-reset-link-request-form"></span><h4>Sample Password Reset Link Request Form<a class="headerlink" href="#sample-password-reset-link-request-form" title="Permalink to this headline">¶</a></h4>
<p>You will need to provide an HTML view for the password reset request form. This view should be placed at <code class="docutils literal"><span class="pre">resources/views/auth/password.blade.php</span></code>. This form provides a single field for the user&#8217;s e-mail address, allowing them to request a password reset link:</p>
<pre class="literal-block">
&lt;!-- resources/views/auth/password.blade.php --&gt;

&lt;form method=&quot;POST&quot; action=&quot;/password/email&quot;&gt;
    {!! csrf_field() !!}

    &lt;div&gt;
        Email
        &lt;input type=&quot;email&quot; name=&quot;email&quot; value=&quot;{{ old('email') }}&quot;&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;button type=&quot;submit&quot;&gt;
            Send Password Reset Link
        &lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;
</pre>
<p>When a user submits a request to reset their password, they will receive an e-mail with a link that points to the <code class="docutils literal"><span class="pre">getReset</span></code> method (typically routed at <code class="docutils literal"><span class="pre">/password/reset</span></code>) of the <code class="docutils literal"><span class="pre">PasswordController</span></code>. You will need to create a view for this e-mail at <code class="docutils literal"><span class="pre">resources/views/emails/password.blade.php</span></code>. The view will receive the <code class="docutils literal"><span class="pre">$token</span></code> variable which contains the password reset token to match the user to the password reset request. Here is an example e-mail view to get you started:</p>
<pre class="literal-block">
&lt;!-- resources/views/emails/password.blade.php --&gt;

Click here to reset your password: {{ url('password/reset/'.$token) }}
</pre>
</div>
<div class="section" id="sample-password-reset-form">
<span id="sample-password-reset-form"></span><h4>Sample Password Reset Form<a class="headerlink" href="#sample-password-reset-form" title="Permalink to this headline">¶</a></h4>
<p>When the user clicks the e-mailed link to reset their password, they will be presented with a password reset form. This view should be placed at <code class="docutils literal"><span class="pre">resources/views/auth/reset.blade.php</span></code>.</p>
<p>Here is a sample password reset form to get you started:</p>
<pre class="literal-block">
&lt;!-- resources/views/auth/reset.blade.php --&gt;

&lt;form method=&quot;POST&quot; action=&quot;/password/reset&quot;&gt;
    {!! csrf_field() !!}
    &lt;input type=&quot;hidden&quot; name=&quot;token&quot; value=&quot;{{ $token }}&quot;&gt;

    &lt;div&gt;
        Email
        &lt;input type=&quot;email&quot; name=&quot;email&quot; value=&quot;{{ old('email') }}&quot;&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Password
        &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;
    &lt;/div&gt;

    &lt;div&gt;
        Confirm Password
        &lt;input type=&quot;password&quot; name=&quot;password_confirmation&quot;&gt;
    &lt;/div&gt;

    &lt;div&gt;
        &lt;button type=&quot;submit&quot;&gt;
            Reset Password
        &lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;
</pre>
<p><a name="after-resetting-passwords"></a></p>
</div>
</div>
<div class="section" id="after-resetting-passwords">
<span id="after-resetting-passwords"></span><h3>After Resetting Passwords<a class="headerlink" href="#after-resetting-passwords" title="Permalink to this headline">¶</a></h3>
<p>Once you have defined the routes and views to reset your user&#8217;s passwords, you may simply access the routes in your browser. The <code class="docutils literal"><span class="pre">PasswordController</span></code> included with the framework already includes the logic to send the password reset link e-mails as well as update passwords in the database.</p>
<p>After the password is reset, the user will automatically be logged into the application and redirected to <code class="docutils literal"><span class="pre">/home</span></code>. You can customize the post password reset redirect location by defining a <code class="docutils literal"><span class="pre">redirectTo</span></code> property on the <code class="docutils literal"><span class="pre">PasswordController</span></code>:</p>
<pre class="literal-block">
protected $redirectTo = '/dashboard';
</pre>
<blockquote>
<div><strong>Note:</strong> By default, password reset tokens expire after one hour. You may change this via the <code class="docutils literal"><span class="pre">reminder.expire</span></code> option in your <code class="docutils literal"><span class="pre">config/auth.php</span></code> file.</div></blockquote>
<p><a name="social-authentication"></a></p>
</div>
</div>
<div class="section" id="social-authentication">
<span id="social-authentication"></span><h2>Social Authentication<a class="headerlink" href="#social-authentication" title="Permalink to this headline">¶</a></h2>
<p>In addition to typical, form based authentication, Laravel also provides a simple, convenient way to authenticate with OAuth providers using <a class="reference external" href="https://github.com/laravel/socialite">Laravel Socialite</a>. Socialite currently supports authentication with Facebook, Twitter, LinkedIn, Google, GitHub and Bitbucket.</p>
<p>To get started with Socialite, add to your <code class="docutils literal"><span class="pre">composer.json</span></code> file as a dependency:</p>
<pre class="literal-block">
composer require laravel/socialite
</pre>
<div class="section" id="configuration">
<span id="configuration"></span><h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<p>After installing the Socialite library, register the <code class="docutils literal"><span class="pre">Laravel\Socialite\SocialiteServiceProvider</span></code> in your <code class="docutils literal"><span class="pre">config/app.php</span></code> configuration file:</p>
<pre class="literal-block">
'providers' =&gt; [
    // Other service providers...

    Laravel\Socialite\SocialiteServiceProvider::class,
],
</pre>
<p>Also, add the <code class="docutils literal"><span class="pre">Socialite</span></code> facade to the <code class="docutils literal"><span class="pre">aliases</span></code> array in your <code class="docutils literal"><span class="pre">app</span></code> configuration file:</p>
<pre class="literal-block">
'Socialite' =&gt; Laravel\Socialite\Facades\Socialite::class,
</pre>
<p>You will also need to add credentials for the OAuth services your application utilizes. These credentials should be placed in your <code class="docutils literal"><span class="pre">config/services.php</span></code> configuration file, and should use the key <code class="docutils literal"><span class="pre">facebook</span></code>, <code class="docutils literal"><span class="pre">twitter</span></code>, <code class="docutils literal"><span class="pre">linkedin</span></code>, <code class="docutils literal"><span class="pre">google</span></code>, <code class="docutils literal"><span class="pre">github</span></code> or <code class="docutils literal"><span class="pre">bitbucket</span></code>, depending on the providers your application requires. For example:</p>
<pre class="literal-block">
'github' =&gt; [
    'client_id' =&gt; 'your-github-app-id',
    'client_secret' =&gt; 'your-github-app-secret',
    'redirect' =&gt; 'http://your-callback-url',
],
</pre>
</div>
<div class="section" id="basic-usage">
<span id="basic-usage"></span><h3>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h3>
<p>Next, you are ready to authenticate users! You will need two routes: one for redirecting the user to the OAuth provider, and another for receiving the callback from the provider after authentication. We will access Socialite using the <code class="docutils literal"><span class="pre">Socialite</span></code> <a class="reference external" href="facades.html">facade</a>:</p>
<pre class="literal-block">
&lt;?php

namespace App\Http\Controllers;

use Socialite;
use Illuminate\Routing\Controller;

class AuthController extends Controller
{
    /**
     * Redirect the user to the GitHub authentication page.
     *
     * &#64;return Response
     */
    public function redirectToProvider()
    {
        return Socialite::driver('github')-&gt;redirect();
    }

    /**
     * Obtain the user information from GitHub.
     *
     * &#64;return Response
     */
    public function handleProviderCallback()
    {
        $user = Socialite::driver('github')-&gt;user();

        // $user-&gt;token;
    }
}
</pre>
<p>The <code class="docutils literal"><span class="pre">redirect</span></code> method takes care of sending the user to the OAuth provider, while the <code class="docutils literal"><span class="pre">user</span></code> method will read the incoming request and retrieve the user&#8217;s information from the provider. Before redirecting the user, you may also set &#8220;scopes&#8221; on the request using the <code class="docutils literal"><span class="pre">scope</span></code> method. This method will overwrite all existing scopes:</p>
<pre class="literal-block">
return Socialite::driver('github')
            -&gt;scopes(['scope1', 'scope2'])-&gt;redirect();
</pre>
<p>Of course, you will need to define routes to your controller methods:</p>
<pre class="literal-block">
    Route::get('auth/github', 'Auth\AuthController&#64;redirectToProvider');
    Route::get('auth/github/callback', 'Auth\AuthController&#64;handleProviderCallback');
</pre>
<p>A number of OAuth providers support optional parameters in the redirect request. To include any optional parameters in the request, call the <code class="docutils literal"><span class="pre">with</span></code> method with an associative array:</p>
<pre class="literal-block">
return Socialite::driver('google')
            -&gt;with(['hd' =&gt; 'example.com'])-&gt;redirect();
</pre>
<div class="section" id="retrieving-user-details">
<span id="retrieving-user-details"></span><h4>Retrieving User Details<a class="headerlink" href="#retrieving-user-details" title="Permalink to this headline">¶</a></h4>
<p>Once you have a user instance, you can grab a few more details about the user:</p>
<pre class="literal-block">
$user = Socialite::driver('github')-&gt;user();

// OAuth Two Providers
$token = $user-&gt;token;

// OAuth One Providers
$token = $user-&gt;token;
$tokenSecret = $user-&gt;tokenSecret;

// All Providers
$user-&gt;getId();
$user-&gt;getNickname();
$user-&gt;getName();
$user-&gt;getEmail();
$user-&gt;getAvatar();
</pre>
<p><a name="adding-custom-authentication-drivers"></a></p>
</div>
</div>
</div>
<div class="section" id="adding-custom-authentication-drivers">
<span id="adding-custom-authentication-drivers"></span><h2>Adding Custom Authentication Drivers<a class="headerlink" href="#adding-custom-authentication-drivers" title="Permalink to this headline">¶</a></h2>
<p>If you are not using a traditional relational database to store your users, you will need to extend Laravel with your own authentication driver. We will use the <code class="docutils literal"><span class="pre">extend</span></code> method on the <code class="docutils literal"><span class="pre">Auth</span></code> facade to define a custom driver. You should place this call to <code class="docutils literal"><span class="pre">extend</span></code> within a <a class="reference external" href="providers.html">service provider</a>:</p>
<pre class="literal-block">
&lt;?php

namespace App\Providers;

use Auth;
use App\Extensions\RiakUserProvider;
use Illuminate\Support\ServiceProvider;

class AuthServiceProvider extends ServiceProvider
{
    /**
     * Perform post-registration booting of services.
     *
     * &#64;return void
     */
    public function boot()
    {
        Auth::extend('riak', function($app) {
            // Return an instance of Illuminate\Contracts\Auth\UserProvider...
            return new RiakUserProvider($app['riak.connection']);
        });
    }

    /**
     * Register bindings in the container.
     *
     * &#64;return void
     */
    public function register()
    {
        //
    }
}
</pre>
<p>After you have registered the driver with the <code class="docutils literal"><span class="pre">extend</span></code> method, you may switch to the new driver in your <code class="docutils literal"><span class="pre">config/auth.php</span></code> configuration file.</p>
<div class="section" id="the-user-provider-contract">
<span id="the-user-provider-contract"></span><h3>The User Provider Contract<a class="headerlink" href="#the-user-provider-contract" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">Illuminate\Contracts\Auth\UserProvider</span></code> implementations are only responsible for fetching a <code class="docutils literal"><span class="pre">Illuminate\Contracts\Auth\Authenticatable</span></code> implementation out of a persistent storage system, such as MySQL, Riak, etc. These two interfaces allow the Laravel authentication mechanisms to continue functioning regardless of how the user data is stored or what type of class is used to represent it.</p>
<p>Let&#8217;s take a look at the <code class="docutils literal"><span class="pre">Illuminate\Contracts\Auth\UserProvider</span></code> contract:</p>
<pre class="literal-block">
&lt;?php

namespace Illuminate\Contracts\Auth;

interface UserProvider {

    public function retrieveById($identifier);
    public function retrieveByToken($identifier, $token);
    public function updateRememberToken(Authenticatable $user, $token);
    public function retrieveByCredentials(array $credentials);
    public function validateCredentials(Authenticatable $user, array $credentials);

}
</pre>
<p>The <code class="docutils literal"><span class="pre">retrieveById</span></code> function typically receives a key representing the user, such as an auto-incrementing ID from a MySQL database. The <code class="docutils literal"><span class="pre">Authenticatable</span></code> implementation matching the ID should be retrieved and returned by the method.</p>
<p>The <code class="docutils literal"><span class="pre">retrieveByToken</span></code> function retrieves a user by their unique <code class="docutils literal"><span class="pre">$identifier</span></code> and &#8220;remember me&#8221; <code class="docutils literal"><span class="pre">$token</span></code>, stored in a field <code class="docutils literal"><span class="pre">remember_token</span></code>. As with the previous method, the <code class="docutils literal"><span class="pre">Authenticatable</span></code> implementation should be returned.</p>
<p>The <code class="docutils literal"><span class="pre">updateRememberToken</span></code> method updates the <code class="docutils literal"><span class="pre">$user</span></code> field <code class="docutils literal"><span class="pre">remember_token</span></code> with the new <code class="docutils literal"><span class="pre">$token</span></code>. The new token can be either a fresh token, assigned on a successful &#8220;remember me&#8221; login attempt, or a null when the user is logged out.</p>
<p>The <code class="docutils literal"><span class="pre">retrieveByCredentials</span></code> method receives the array of credentials passed to the <code class="docutils literal"><span class="pre">Auth::attempt</span></code> method when attempting to sign into an application. The method should then &#8220;query&#8221; the underlying persistent storage for the user matching those credentials. Typically, this method will run a query with a &#8220;where&#8221; condition on <code class="docutils literal"><span class="pre">$credentials['username']</span></code>. The method should then return an implementation of <code class="docutils literal"><span class="pre">UserInterface</span></code>. <strong>This method should not attempt to do any password validation or authentication.</strong></p>
<p>The <code class="docutils literal"><span class="pre">validateCredentials</span></code> method should compare the given <code class="docutils literal"><span class="pre">$user</span></code> with the <code class="docutils literal"><span class="pre">$credentials</span></code> to authenticate the user. For example, this method might compare the <code class="docutils literal"><span class="pre">$user-&gt;getAuthPassword()</span></code> string to a <code class="docutils literal"><span class="pre">Hash::make</span></code> of <code class="docutils literal"><span class="pre">$credentials['password']</span></code>. This method should only validate the user&#8217;s credentials and return a boolean.</p>
</div>
<div class="section" id="the-authenticatable-contract">
<span id="the-authenticatable-contract"></span><h3>The Authenticatable Contract<a class="headerlink" href="#the-authenticatable-contract" title="Permalink to this headline">¶</a></h3>
<p>Now that we have explored each of the methods on the <code class="docutils literal"><span class="pre">UserProvider</span></code>, let&#8217;s take a look at the <code class="docutils literal"><span class="pre">Authenticatable</span></code> contract. Remember, the provider should return implementations of this interface from the <code class="docutils literal"><span class="pre">retrieveById</span></code> and <code class="docutils literal"><span class="pre">retrieveByCredentials</span></code> methods:</p>
<pre class="literal-block">
&lt;?php

namespace Illuminate\Contracts\Auth;

interface Authenticatable {

    public function getAuthIdentifier();
    public function getAuthPassword();
    public function getRememberToken();
    public function setRememberToken($value);
    public function getRememberTokenName();

}
</pre>
<p>This interface is simple. The <code class="docutils literal"><span class="pre">getAuthIdentifier</span></code> method should return the &#8220;primary key&#8221; of the user. In a MySQL back-end, again, this would be the auto-incrementing primary key. The <code class="docutils literal"><span class="pre">getAuthPassword</span></code> should return the user&#8217;s hashed password. This interface allows the authentication system to work with any User class, regardless of what ORM or storage abstraction layer you are using. By default, Laravel includes a <code class="docutils literal"><span class="pre">User</span></code> class in the <code class="docutils literal"><span class="pre">app</span></code> directory which implements this interface, so you may consult this class for an implementation example.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, The Weezqyd.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>