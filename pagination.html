

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Pagination &mdash; Laravel 5 Documentation 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Laravel 5 Documentation 1.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Laravel 5 Documentation
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <!-- Local TOC -->
                <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Pagination</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#basic-usage">Basic Usage</a><ul>
<li><a class="reference internal" href="#paginating-query-builder-results">Paginating Query Builder Results</a><ul>
<li><a class="reference internal" href="#simple-pagination">&#8220;Simple Pagination&#8221;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#paginating-eloquent-results">Paginating Eloquent Results</a></li>
<li><a class="reference internal" href="#manually-creating-a-paginator">Manually Creating A Paginator</a></li>
</ul>
</li>
<li><a class="reference internal" href="#displaying-results-in-a-view">Displaying Results In A View</a><ul>
<li><a class="reference internal" href="#customizing-the-paginator-uri">Customizing The Paginator URI</a></li>
<li><a class="reference internal" href="#appending-to-pagination-links">Appending To Pagination Links</a></li>
<li><a class="reference internal" href="#additional-helper-methods">Additional Helper Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#converting-results-to-json">Converting Results To JSON</a><ul>
<li><a class="reference internal" href="#example-paginator-json">Example Paginator JSON</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Laravel 5 Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Pagination</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/pagination.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pagination">
<span id="pagination"></span><h1>Pagination<a class="headerlink" href="#pagination" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference external" href="#introduction">Introduction</a></li>
<li><a class="reference external" href="#basic-usage">Basic Usage</a><ul>
<li><a class="reference external" href="#paginating-query-builder-results">Paginating Query Builder Results</a></li>
<li><a class="reference external" href="#paginating-eloquent-results">Paginating Eloquent Results</a></li>
<li><a class="reference external" href="#manually-creating-a-paginator">Manually Creating A Paginator</a></li>
</ul>
</li>
<li><a class="reference external" href="#displaying-results-in-a-view">Displaying Results In A View</a></li>
<li><a class="reference external" href="#converting-results-to-json">Converting Results To JSON</a></li>
</ul>
<p><a name="introduction"></a></p>
<div class="section" id="introduction">
<span id="introduction"></span><h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In other frameworks, pagination can be very painful. Laravel makes it a breeze. Laravel can quickly generate an intelligent &#8220;range&#8221; of links based on the current page, and the generated HTML is compatible with the <a class="reference external" href="http://getbootstrap.com/">Bootstrap CSS framework</a>.</p>
<p><a name="basic-usage"></a></p>
</div>
<div class="section" id="basic-usage">
<span id="basic-usage"></span><h2>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p><a name="paginating-query-builder-results"></a></p>
<div class="section" id="paginating-query-builder-results">
<span id="paginating-query-builder-results"></span><h3>Paginating Query Builder Results<a class="headerlink" href="#paginating-query-builder-results" title="Permalink to this headline">¶</a></h3>
<p>There are several ways to paginate items. The simplest is by using the <code class="docutils literal"><span class="pre">paginate</span></code> method on the <a class="reference external" href="/docs/{{version}}/queries">query builder</a> or an <a class="reference external" href="/docs/{{version}}/eloquent">Eloquent query</a>. The <code class="docutils literal"><span class="pre">paginate</span></code> method provided by Laravel automatically takes care of setting the proper limit and offset based on the current page being viewed by the user. By default, the current page is detected by the value of the <code class="docutils literal"><span class="pre">?page</span></code> query string argument on the HTTP request. Of course, this value is automatically detected by Laravel, and is also automatically inserted into links generated by the paginator.</p>
<p>First, let&#8217;s take a look at calling the <code class="docutils literal"><span class="pre">paginate</span></code> method on a query. In this example, the only argument passed to <code class="docutils literal"><span class="pre">paginate</span></code> is the number of items you would like displayed &#8220;per page&#8221;. In this case, let&#8217;s specify that we would like to display <code class="docutils literal"><span class="pre">15</span></code> items per page:</p>
<pre class="literal-block">
&lt;?php

namespace App\Http\Controllers;

use DB;
use App\Http\Controllers\Controller;

class UserController extends Controller
{
    /**
     * Show all of the users for the application.
     *
     * &#64;return Response
     */
    public function index()
    {
        $users = DB::table('users')-&gt;paginate(15);

        return view('user.index', ['users' =&gt; $users]);
    }
}
</pre>
<blockquote>
<div><strong>Note:</strong> Currently, pagination operations that use a <code class="docutils literal"><span class="pre">groupBy</span></code> statement cannot be executed efficiently by Laravel. If you need to use a <code class="docutils literal"><span class="pre">groupBy</span></code> with a paginated result set, it is recommended that you query the database and create a paginator manually.</div></blockquote>
<div class="section" id="simple-pagination">
<span id="simple-pagination"></span><h4>&#8220;Simple Pagination&#8221;<a class="headerlink" href="#simple-pagination" title="Permalink to this headline">¶</a></h4>
<p>If you only need to display simple &#8220;Next&#8221; and &#8220;Previous&#8221; links in your pagination view, you have the option of using the <code class="docutils literal"><span class="pre">simplePaginate</span></code> method to perform a more efficient query. This is very useful for large datasets if you do not need to display a link for each page number when rendering your view:</p>
<pre class="literal-block">
$users = DB::table('users')-&gt;simplePaginate(15);
</pre>
<p><a name="paginating-eloquent-results"></a></p>
</div>
</div>
<div class="section" id="paginating-eloquent-results">
<span id="paginating-eloquent-results"></span><h3>Paginating Eloquent Results<a class="headerlink" href="#paginating-eloquent-results" title="Permalink to this headline">¶</a></h3>
<p>You may also paginate <a class="reference external" href="/docs/{{version}}/eloquent">Eloquent</a> queries. In this example, we will paginate the <code class="docutils literal"><span class="pre">User</span></code> model with <code class="docutils literal"><span class="pre">15</span></code> items per page. As you can see, the syntax is nearly identical to paginating query builder results:</p>
<pre class="literal-block">
$users = App\User::paginate(15);
</pre>
<p>Of course, you may call <code class="docutils literal"><span class="pre">paginate</span></code> after setting other constraints on the query, such as <code class="docutils literal"><span class="pre">where</span></code> clauses:</p>
<pre class="literal-block">
$users = User::where('votes', '&gt;', 100)-&gt;paginate(15);
</pre>
<p>You may also use the <code class="docutils literal"><span class="pre">simplePaginate</span></code> method when paginating Eloquent models:</p>
<pre class="literal-block">
$users = User::where('votes', '&gt;', 100)-&gt;simplePaginate(15);
</pre>
<p><a name="manually-creating-a-paginator"></a></p>
</div>
<div class="section" id="manually-creating-a-paginator">
<span id="manually-creating-a-paginator"></span><h3>Manually Creating A Paginator<a class="headerlink" href="#manually-creating-a-paginator" title="Permalink to this headline">¶</a></h3>
<p>Sometimes you may wish to create a pagination instance manually, passing it an array of items. You may do so by creating either an <code class="docutils literal"><span class="pre">Illuminate\Pagination\Paginator</span></code> or <code class="docutils literal"><span class="pre">Illuminate\Pagination\LengthAwarePaginator</span></code> instance, depending on your needs.</p>
<p>The <code class="docutils literal"><span class="pre">Paginator</span></code> class does not need to know the total number of items in the result set; however, because of this, the class does not have methods for retrieving the index of the last page. The <code class="docutils literal"><span class="pre">LengthAwarePaginator</span></code> accepts almost the same arguments as the <code class="docutils literal"><span class="pre">Paginator</span></code>; however, it does require a count of the total number of items in the result set.</p>
<p>In other words, the <code class="docutils literal"><span class="pre">Paginator</span></code> corresponds to the <code class="docutils literal"><span class="pre">simplePaginate</span></code> method on the query builder and Eloquent, while the <code class="docutils literal"><span class="pre">LengthAwarePaginator</span></code> corresponds to the <code class="docutils literal"><span class="pre">paginate</span></code> method.</p>
<p>When manually creating a paginator instance, you should manually &#8220;slice&#8221; the array of results you pass to the paginator. If you&#8217;re unsure how to do this, check out the <a class="reference external" href="http://php.net/manual/en/function.array-slice.php">array_slice</a> PHP function.</p>
<p><a name="displaying-results-in-a-view"></a></p>
</div>
</div>
<div class="section" id="displaying-results-in-a-view">
<span id="displaying-results-in-a-view"></span><h2>Displaying Results In A View<a class="headerlink" href="#displaying-results-in-a-view" title="Permalink to this headline">¶</a></h2>
<p>When you call the <code class="docutils literal"><span class="pre">paginate</span></code> or <code class="docutils literal"><span class="pre">simplePaginate</span></code> methods on a query builder or Eloquent query, you will receive a paginator instance. When calling the <code class="docutils literal"><span class="pre">paginate</span></code> method, you will receive an instance of <code class="docutils literal"><span class="pre">Illuminate\Pagination\LengthAwarePaginator</span></code>. When calling the <code class="docutils literal"><span class="pre">simplePaginate</span></code> method, you will receive an instance of <code class="docutils literal"><span class="pre">Illuminate\Pagination\Paginator</span></code>. These objects provide several methods that describe the result set. In addition to these helpers methods, the paginator instances are iterators and may be looped as an array.</p>
<p>So, once you have retrieved the results, you may display the results and render the page links using <a class="reference external" href="/docs/{{version}}/blade">Blade</a>:</p>
<pre class="literal-block">
&lt;div class=&quot;container&quot;&gt;
    &#64;foreach ($users as $user)
        {{ $user-&gt;name }}
    &#64;endforeach
&lt;/div&gt;

{!! $users-&gt;render() !!}
</pre>
<p>The <code class="docutils literal"><span class="pre">render</span></code> method will render the links to the rest of the pages in the result set. Each of these links will already contain the proper <code class="docutils literal"><span class="pre">?page</span></code> query string variable. Remember, the HTML generated by the <code class="docutils literal"><span class="pre">render</span></code> method is compatible with the <a class="reference external" href="https://getbootstrap.com">Bootstrap CSS framework</a>.</p>
<blockquote>
<div><strong>Note:</strong> When calling the <code class="docutils literal"><span class="pre">render</span></code> method from a Blade template, be sure to use the <code class="docutils literal"><span class="pre">{!!</span> <span class="pre">!!}</span></code> syntax so the HTML links are not escaped.</div></blockquote>
<div class="section" id="customizing-the-paginator-uri">
<span id="customizing-the-paginator-uri"></span><h3>Customizing The Paginator URI<a class="headerlink" href="#customizing-the-paginator-uri" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">setPath</span></code> method allows you to customize the URI used by the paginator when generating links. For example, if you want the paginator to generate links like <code class="docutils literal"><span class="pre">http://example.com/custom/url?page=N</span></code>, you should pass <code class="docutils literal"><span class="pre">custom/url</span></code> to the <code class="docutils literal"><span class="pre">setPath</span></code> method:</p>
<pre class="literal-block">
Route::get('users', function () {
    $users = App\User::paginate(15);

    $users-&gt;setPath('custom/url');

    //
});
</pre>
</div>
<div class="section" id="appending-to-pagination-links">
<span id="appending-to-pagination-links"></span><h3>Appending To Pagination Links<a class="headerlink" href="#appending-to-pagination-links" title="Permalink to this headline">¶</a></h3>
<p>You may add to the query string of pagination links using the <code class="docutils literal"><span class="pre">appends</span></code> method. For example, to append <code class="docutils literal"><span class="pre">&amp;sort=votes</span></code> to each pagination link, you should make the following call to <code class="docutils literal"><span class="pre">appends</span></code>:</p>
<pre class="literal-block">
{!! $users-&gt;appends(['sort' =&gt; 'votes'])-&gt;render() !!}
</pre>
<p>If you wish to append a &#8220;hash fragment&#8221; to the paginator&#8217;s URLs, you may use the <code class="docutils literal"><span class="pre">fragment</span></code> method. For example, to append <code class="docutils literal"><span class="pre">#foo</span></code> to the end of each pagination link, make the following call to the <code class="docutils literal"><span class="pre">fragment</span></code> method:</p>
<pre class="literal-block">
{!! $users-&gt;fragment('foo')-&gt;render() !!}
</pre>
</div>
<div class="section" id="additional-helper-methods">
<span id="additional-helper-methods"></span><h3>Additional Helper Methods<a class="headerlink" href="#additional-helper-methods" title="Permalink to this headline">¶</a></h3>
<p>You may also access additional pagination information via the following methods on paginator instances:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">$results-&gt;count()</span></code></li>
<li><code class="docutils literal"><span class="pre">$results-&gt;currentPage()</span></code></li>
<li><code class="docutils literal"><span class="pre">$results-&gt;hasMorePages()</span></code></li>
<li><code class="docutils literal"><span class="pre">$results-&gt;lastPage()</span> <span class="pre">(Not</span> <span class="pre">available</span> <span class="pre">when</span> <span class="pre">using</span> <span class="pre">simplePaginate)</span></code></li>
<li><code class="docutils literal"><span class="pre">$results-&gt;nextPageUrl()</span></code></li>
<li><code class="docutils literal"><span class="pre">$results-&gt;perPage()</span></code></li>
<li><code class="docutils literal"><span class="pre">$results-&gt;previousPageUrl()</span></code></li>
<li><code class="docutils literal"><span class="pre">$results-&gt;total()</span> <span class="pre">(Not</span> <span class="pre">available</span> <span class="pre">when</span> <span class="pre">using</span> <span class="pre">simplePaginate)</span></code></li>
<li><code class="docutils literal"><span class="pre">$results-&gt;url($page)</span></code></li>
</ul>
<p><a name="converting-results-to-json"></a></p>
</div>
</div>
<div class="section" id="converting-results-to-json">
<span id="converting-results-to-json"></span><h2>Converting Results To JSON<a class="headerlink" href="#converting-results-to-json" title="Permalink to this headline">¶</a></h2>
<p>The Laravel paginator result classes implement the <code class="docutils literal"><span class="pre">Illuminate\Contracts\Support\JsonableInterface</span></code> contract and expose the <code class="docutils literal"><span class="pre">toJson</span></code> method, so it&#8217;s very easy to convert your pagination results to JSON.</p>
<p>You may also convert a paginator instance to JSON by simply returning it from a route or controller action:</p>
<pre class="literal-block">
Route::get('users', function () {
    return App\User::paginate();
});
</pre>
<p>The JSON from the paginator will include meta information such as <code class="docutils literal"><span class="pre">total</span></code>, <code class="docutils literal"><span class="pre">current_page</span></code>, <code class="docutils literal"><span class="pre">last_page</span></code>, and more. The actual result objects will be available via the <code class="docutils literal"><span class="pre">data</span></code> key in the JSON array. Here is an example of the JSON created by returning a paginator instance from a route:</p>
<div class="section" id="example-paginator-json">
<span id="example-paginator-json"></span><h3>Example Paginator JSON<a class="headerlink" href="#example-paginator-json" title="Permalink to this headline">¶</a></h3>
<pre class="literal-block">
{
   &quot;total&quot;: 50,
   &quot;per_page&quot;: 15,
   &quot;current_page&quot;: 1,
   &quot;last_page&quot;: 4,
   &quot;next_page_url&quot;: &quot;http://laravel.app?page=2&quot;,
   &quot;prev_page_url&quot;: null,
   &quot;from&quot;: 1,
   &quot;to&quot;: 15,
   &quot;data&quot;:[
        {
            // Result Object
        },
        {
            // Result Object
        }
   ]
}
</pre>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, The Weezqyd.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>